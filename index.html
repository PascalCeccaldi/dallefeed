<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <style>
        body{
            padding: 0 15vw 0 15vw;
        }
        h1 {
            font-size: 10vw;
            margin-bottom: 0;
        }
        h2 {
            font-size: 3vw;
            margin: 0;
        }
        h3 {
            margin-bottom: 10vh;
            font-size: 1.8vw;
        }
        p {
            font-size: 1.5vw;
            text-align: justify;
        }
        hr {
            clear: both;
        }
        a {
            color: inherit;
            text-decoration: inherit;
        }
    </style>
</head>

<body>

    <h1 align=center>Dall-e News</h1>
    <hr>
    <h3 align=center></h3>

    <div style="float: left; width: 50%; margin-right: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <img style="display: block;" src="censored.png" width=35% height=100%>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <img src="censored.png" width=35% height=100%>
    <div style="display: block; float: right; width: 50%; margin-left: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <div style="float: left; width: 50%; margin-right: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <img style="display: block;" src="censored.png" width=35% height=100%>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <img src="censored.png" width=35% height=100%>
    <div style="display: block; float: right; width: 50%; margin-left: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <hr style="margin-top: 3%; margin-bottom: 5%">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6151488975433827"
     crossorigin="anonymous"></script>
    <hr style="margin-top: 3%; margin-bottom: 5%">


    <div style="float: left; width: 50%; margin-right: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <img style="display: block;" src="censored.png" width=35% height=100%>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <img src="censored.png" width=35% height=100%>
    <div style="display: block; float: right; width: 50%; margin-left: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <div style="float: left; width: 50%; margin-right: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <img style="display: block;" src="censored.png" width=35% height=100%>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <img src="censored.png" width=35% height=100%>
    <div style="display: block; float: right; width: 50%; margin-left: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6151488975433827"
     crossorigin="anonymous"></script>
    <hr style="margin-top: 3%; margin-bottom: 5%">



    <div style="float: left; width: 50%; margin-right: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <img style="display: block;" src="censored.png" width=35% height=100%>
    <hr style="margin-top: 3%; margin-bottom: 5%">

    <img src="censored.png" width=35% height=100%>
    <div style="display: block; float: right; width: 50%; margin-left: 5%; margin-bottom: 2%">
        <h2 align=center></h2> 
        <p></p>
        <a class="readmore" style="float: right; font-size: 1.2vw;" href="." target="_blank"> read more ... </a>
    </div>
    <hr style="margin-top: 3%; margin-bottom: 5%">

</body>

<footer>
    <script>
        const d = new Date();
        let month = d.getMonth() + 1;
        let day = d.getDate();
        
        var dataRoot = "https://raw.githubusercontent.com/PascalCeccaldi/dallefeed/main/"
        var dateExt = month + '/' + day

        var h3 = document.querySelector("h3");
        h3.innerHTML = d.toDateString();
        
        var elems = document.getElementsByTagName("img");
        for (let i = 0; i < elems.length; i++) {
            var elem = elems[i];
            var ext = '/trend_' + i + ".png";
            elem.src = dataRoot + dateExt + ext;
        }

        var trendsURL = dataRoot + dateExt + "/trends.txt";
        
        var trends;
        var trends_data = jQuery.get(trendsURL, function(trends_data) {
            trends = trends_data.split('\n')
        })
        .done(function() {
            var h2s = document.getElementsByTagName("h2");
            var ps = document.getElementsByTagName("p");
            var rms = document.getElementsByClassName("readmore");
            for (let i = 0; i < trends.length - 1; i++) {
                var search_link = "https://www.google.com/search?q=" + encodeURIComponent(trends[i].toString())
                var h2 = h2s[i];
                h2.innerHTML = "<a href=\"" + search_link + "\" target=\"_blank\">" + trends[i].toString() + "</a>"
                var rm = rms[i]
                rm.href = search_link

                var articleURL = dataRoot + dateExt + "/" + i + ".txt";
                jQuery.get(articleURL, function(article_data) {
                    var p = ps[i]
                    p.innerHTML = article_data.toString()
                })
                .promise().done(function() {
                    console.log(i)
                });
            };
        });
    </script>
</footer>
</html>
